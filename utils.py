import itertools
import math

import numpy as np


def generate_weight_vector_with_numpy(num: int, dim: int = 3):
    return np.random.dirichlet(np.ones(dim), size=num)


def generate_weight_vector_explicitly_evenly(num: int):
    # assume dim of objective is 3

    # solve delta
    a = 1
    b = 3
    c = 2 - 2 * num

    delta = math.ceil((-b + math.sqrt(b * b - 4 * a * c)) / (2 * a))
    print(delta)
    # use delta and m generate vectors
    sequence = [0 for _ in range(delta)] + [1 for _ in range(3 - 1)]

    ws = set()
    cnt = 0
    for seq in list(set(itertools.permutations(sequence))):
        s = -1
        weight = []
        for i in range(delta + 3 - 1):
            if seq[i] == 1:
                w = i - s
                w = (w - 1) / delta
                s = i
                weight.append(w)

        w = delta + 3 - 1 - s
        w = (w - 1) / delta
        weight.append(w)
        print(cnt, weight)
        ws.add(tuple(weight))
        cnt += 1
    return np.array(list(ws)[:num])


weight_200 = np.array([
    [1, 0, 0, ],
    [0.947368, 0.0526316, 0, ],
    [0.947368, 0, 0.0526316, ],
    [0.894737, 0.105263, 0, ],
    [0.894737, 0.0526316, 0.0526316, ],
    [0.894737, 0, 0.105263, ],
    [0.842105, 0.157895, 0, ],
    [0.842105, 0.105263, 0.0526316, ],
    [0.842105, 0.0526316, 0.105263, ],
    [0.842105, 0, 0.157895, ],
    [0.789474, 0.210526, 0, ],
    [0.789474, 0.157895, 0.0526316, ],
    [0.789474, 0.105263, 0.105263, ],
    [0.789474, 0.0526316, 0.157895, ],
    [0.789474, 0, 0.210526, ],
    [0.736842, 0.263158, 0, ],
    [0.736842, 0.210526, 0.0526316, ],
    [0.736842, 0.157895, 0.105263, ],
    [0.736842, 0.105263, 0.157895, ],
    [0.736842, 0.0526316, 0.210526, ],
    [0.736842, 0, 0.263158, ],
    [0.684211, 0.315789, 0, ],
    [0.684211, 0.263158, 0.0526316, ],
    [0.684211, 0.210526, 0.105263, ],
    [0.684211, 0.157895, 0.157895, ],
    [0.684211, 0.105263, 0.210526, ],
    [0.684211, 0.0526316, 0.263158, ],
    [0.684211, 0, 0.315789, ],
    [0.631579, 0.368421, 0, ],
    [0.631579, 0.315789, 0.0526316, ],
    [0.631579, 0.263158, 0.105263, ],
    [0.631579, 0.210526, 0.157895, ],
    [0.631579, 0.157895, 0.210526, ],
    [0.631579, 0.105263, 0.263158, ],
    [0.631579, 0.0526316, 0.315789, ],
    [0.631579, 0, 0.368421, ],
    [0.578947, 0.421053, 0, ],
    [0.578947, 0.368421, 0.0526316, ],
    [0.578947, 0.315789, 0.105263, ],
    [0.578947, 0.263158, 0.157895, ],
    [0.578947, 0.210526, 0.210526, ],
    [0.578947, 0.157895, 0.263158, ],
    [0.578947, 0.105263, 0.315789, ],
    [0.578947, 0.0526316, 0.368421, ],
    [0.578947, 0, 0.421053, ],
    [0.526316, 0.473684, 0, ],
    [0.526316, 0.421053, 0.0526316, ],
    [0.526316, 0.368421, 0.105263, ],
    [0.526316, 0.315789, 0.157895, ],
    [0.526316, 0.263158, 0.210526, ],
    [0.526316, 0.210526, 0.263158, ],
    [0.526316, 0.157895, 0.315789, ],
    [0.526316, 0.105263, 0.368421, ],
    [0.526316, 0.0526316, 0.421053, ],
    [0.526316, 0, 0.473684, ],
    [0.473684, 0.526316, 0, ],
    [0.473684, 0.473684, 0.0526316, ],
    [0.473684, 0.421053, 0.105263, ],
    [0.473684, 0.368421, 0.157895, ],
    [0.473684, 0.315789, 0.210526, ],
    [0.473684, 0.263158, 0.263158, ],
    [0.473684, 0.210526, 0.315789, ],
    [0.473684, 0.157895, 0.368421, ],
    [0.473684, 0.105263, 0.421053, ],
    [0.473684, 0.0526316, 0.473684, ],
    [0.473684, 0, 0.526316, ],
    [0.421053, 0.578947, 0, ],
    [0.421053, 0.526316, 0.0526316, ],
    [0.421053, 0.473684, 0.105263, ],
    [0.421053, 0.421053, 0.157895, ],
    [0.421053, 0.368421, 0.210526, ],
    [0.421053, 0.315789, 0.263158, ],
    [0.421053, 0.263158, 0.315789, ],
    [0.421053, 0.210526, 0.368421, ],
    [0.421053, 0.157895, 0.421053, ],
    [0.421053, 0.105263, 0.473684, ],
    [0.421053, 0.0526316, 0.526316, ],
    [0.421053, 0, 0.578947, ],
    [0.368421, 0.631579, 0, ],
    [0.368421, 0.578947, 0.0526316, ],
    [0.368421, 0.526316, 0.105263, ],
    [0.368421, 0.473684, 0.157895, ],
    [0.368421, 0.421053, 0.210526, ],
    [0.368421, 0.368421, 0.263158, ],
    [0.368421, 0.315789, 0.315789, ],
    [0.368421, 0.263158, 0.368421, ],
    [0.368421, 0.210526, 0.421053, ],
    [0.368421, 0.157895, 0.473684, ],
    [0.368421, 0.105263, 0.526316, ],
    [0.368421, 0.0526316, 0.578947, ],
    [0.368421, 0, 0.631579, ],
    [0.315789, 0.684211, 0, ],
    [0.315789, 0.631579, 0.0526316, ],
    [0.315789, 0.578947, 0.105263, ],
    [0.315789, 0.526316, 0.157895, ],
    [0.315789, 0.473684, 0.210526, ],
    [0.315789, 0.421053, 0.263158, ],
    [0.315789, 0.368421, 0.315789, ],
    [0.315789, 0.315789, 0.368421, ],
    [0.315789, 0.263158, 0.421053, ],
    [0.315789, 0.210526, 0.473684, ],
    [0.315789, 0.157895, 0.526316, ],
    [0.315789, 0.105263, 0.578947, ],
    [0.315789, 0.0526316, 0.631579, ],
    [0.315789, 0, 0.684211, ],
    [0.263158, 0.736842, 0, ],
    [0.263158, 0.684211, 0.0526316, ],
    [0.263158, 0.631579, 0.105263, ],
    [0.263158, 0.578947, 0.157895, ],
    [0.263158, 0.526316, 0.210526, ],
    [0.263158, 0.473684, 0.263158, ],
    [0.263158, 0.421053, 0.315789, ],
    [0.263158, 0.368421, 0.368421, ],
    [0.263158, 0.315789, 0.421053, ],
    [0.263158, 0.263158, 0.473684, ],
    [0.263158, 0.210526, 0.526316, ],
    [0.263158, 0.157895, 0.578947, ],
    [0.263158, 0.105263, 0.631579, ],
    [0.263158, 0.0526316, 0.684211, ],
    [0.263158, 0, 0.736842, ],
    [0.210526, 0.789474, 0, ],
    [0.210526, 0.736842, 0.0526316, ],
    [0.210526, 0.684211, 0.105263, ],
    [0.210526, 0.631579, 0.157895, ],
    [0.210526, 0.578947, 0.210526, ],
    [0.210526, 0.526316, 0.263158, ],
    [0.210526, 0.473684, 0.315789, ],
    [0.210526, 0.421053, 0.368421, ],
    [0.210526, 0.368421, 0.421053, ],
    [0.210526, 0.315789, 0.473684, ],
    [0.210526, 0.263158, 0.526316, ],
    [0.210526, 0.210526, 0.578947, ],
    [0.210526, 0.157895, 0.631579, ],
    [0.210526, 0.105263, 0.684211, ],
    [0.210526, 0.0526316, 0.736842, ],
    [0.210526, 0, 0.789474, ],
    [0.157895, 0.842105, 0, ],
    [0.157895, 0.789474, 0.0526316, ],
    [0.157895, 0.736842, 0.105263, ],
    [0.157895, 0.684211, 0.157895, ],
    [0.157895, 0.631579, 0.210526, ],
    [0.157895, 0.578947, 0.263158, ],
    [0.157895, 0.526316, 0.315789, ],
    [0.157895, 0.473684, 0.368421, ],
    [0.157895, 0.421053, 0.421053, ],
    [0.157895, 0.368421, 0.473684, ],
    [0.157895, 0.315789, 0.526316, ],
    [0.157895, 0.263158, 0.578947, ],
    [0.157895, 0.210526, 0.631579, ],
    [0.157895, 0.157895, 0.684211, ],
    [0.157895, 0.105263, 0.736842, ],
    [0.157895, 0.0526316, 0.789474, ],
    [0.157895, 0, 0.842105, ],
    [0.105263, 0.894737, 0, ],
    [0.105263, 0.842105, 0.0526316, ],
    [0.105263, 0.789474, 0.105263, ],
    [0.105263, 0.736842, 0.157895, ],
    [0.105263, 0.684211, 0.210526, ],
    [0.105263, 0.631579, 0.263158, ],
    [0.105263, 0.578947, 0.315789, ],
    [0.105263, 0.526316, 0.368421, ],
    [0.105263, 0.473684, 0.421053, ],
    [0.105263, 0.421053, 0.473684, ],
    [0.105263, 0.368421, 0.526316, ],
    [0.105263, 0.315789, 0.578947, ],
    [0.105263, 0.263158, 0.631579, ],
    [0.105263, 0.210526, 0.684211, ],
    [0.105263, 0.157895, 0.736842, ],
    [0.105263, 0.105263, 0.789474, ],
    [0.105263, 0.0526316, 0.842105, ],
    [0.105263, 0, 0.894737, ],
    [0.0526316, 0.947368, 0, ],
    [0.0526316, 0.894737, 0.0526316, ],
    [0.0526316, 0.842105, 0.105263, ],
    [0.0526316, 0.789474, 0.157895, ],
    [0.0526316, 0.736842, 0.210526, ],
    [0.0526316, 0.684211, 0.263158, ],
    [0.0526316, 0.631579, 0.315789, ],
    [0.0526316, 0.578947, 0.368421, ],
    [0.0526316, 0.526316, 0.421053, ],
    [0.0526316, 0.473684, 0.473684, ],
    [0.0526316, 0.421053, 0.526316, ],
    [0.0526316, 0.368421, 0.578947, ],
    [0.0526316, 0.315789, 0.631579, ],
    [0.0526316, 0.263158, 0.684211, ],
    [0.0526316, 0.210526, 0.736842, ],
    [0.0526316, 0.157895, 0.789474, ],
    [0.0526316, 0.105263, 0.842105, ],
    [0.0526316, 0.0526316, 0.894737, ],
    [0.0526316, 0, 0.947368, ],
    [0, 1, 0, ],
    [0, 0.947368, 0.0526316, ],
    [0, 0.894737, 0.105263, ],
    [0, 0.842105, 0.157895, ],
    [0, 0.789474, 0.210526, ],
    [0, 0.736842, 0.263158, ],
    [0, 0.684211, 0.315789, ],
    [0, 0.631579, 0.368421, ],
    [0, 0.578947, 0.421053, ],
    [0, 0.526316, 0.473684, ],
    [0, 0.473684, 0.526316, ],
    [0, 0.421053, 0.578947, ],
    [0, 0.368421, 0.631579, ],
    [0, 0.315789, 0.684211, ],
    [0, 0.263158, 0.736842, ],
    [0, 0.210526, 0.789474, ],
    [0, 0.157895, 0.842105, ],
    [0, 0.105263, 0.894737, ],
    [0, 0.0526316, 0.947368, ],
    [0, 0, 1, ], ])
